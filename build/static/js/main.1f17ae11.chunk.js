(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{105:function(t,e,c){"use strict";c.r(e);var n=c(2),a=c(1),r=c.n(a),i=c(57),s=c(29),o=c.n(s),u=c(10),j=c(41),l=c(4),b=c(62),d=c(14),O=c.n(d),h=c(23),f=function(){var t=Object(h.a)(O.a.mark((function t(e,c){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat("https://api.openweathermap.org/data/2.5/").concat(e).concat("&appid=50fb0af36e080f721ce75485613869d9").concat(c));case 2:if((n=t.sent).ok){t.next=5;break}throw new Error("Could not fetch ".concat(e)+", received ".concat(n.status));case 5:return t.next=7,n.json();case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}(),m=function(t){return{main:{name:t.name,id:t.id,weather:t.main},city:t}},p=function(){var t=Object(h.a)(O.a.mark((function t(e){var c,n,a=arguments;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a.length>1&&void 0!==a[1]?a[1]:"metric",t.next=3,f("weather?q=".concat(e),"&units=".concat(c));case 3:return n=t.sent,t.abrupt("return",m(n));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=Object(h.a)(O.a.mark((function t(e){var c,n,a=arguments;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a.length>1&&void 0!==a[1]?a[1]:"metric",t.next=3,f("weather?id=".concat(e),"&units=".concat(c));case 3:return n=t.sent,t.abrupt("return",m(n));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),N=function(){var t=Object(h.a)(O.a.mark((function t(e){var c,n=arguments;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n.length>1&&void 0!==n[1]?n[1]:"metric",t.next=3,f("onecall?".concat(e),"&units=".concat(c));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=(c(75),function(){var t=Object(u.b)(),e=Object(l.f)(),c=Object(a.useState)(""),r=Object(b.a)(c,2),i=r[0],s=r[1],o=function(c,n){var a;c.preventDefault(),t((a=n,function(t){t({type:"SET_NEW_CITY_PENDING"}),p(a).then((function(e){t({type:"SET_NEW_CITY_DONE",city:e})})).catch((function(e){t({type:"SET_NEW_CITY_ERROR",error:e})}))})),s(""),e.push("/")};return Object(n.jsx)("div",{className:"album py-1 bg-light",children:Object(n.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(n.jsxs)("div",{className:"col-md-6",children:[Object(n.jsx)("p",{className:"brand",onClick:function(){e.push("/")},children:"Open Weather"}),Object(n.jsxs)("form",{className:"d-flex",children:[Object(n.jsx)("input",{className:"form-control me-2",value:i,type:"search",placeholder:"Type your city","aria-label":"Search",onChange:function(t){return function(t,e){e(t.currentTarget.value)}(t,s)}}),Object(n.jsx)("button",{className:"btn btn-outline-primary",type:"submit",onClick:function(t){return o(t,i)},children:"Search"})]})]})})})}),y=(c(77),function(t){var e,c,a=t.state,r=(a=a[1]?a[1]:a[0]).icon;return Object(n.jsx)("div",{children:Object(n.jsx)("img",{className:"icon",src:(e=r,c=4,"".concat("http://openweathermap.org/img/wn/").concat(e,"@").concat(c,"x.png")),alt:"icon"})})}),_=function(t){var e=t.mainInfo,c=e.name,a=e.weather,r=e.id,i=e.coord,s=i.lon,o=i.lat,j="lat=".concat(o,"&lon=").concat(s),b=t.data,d=Object(u.b)(),O=Object(l.f)(),h=function(t){d(function(t){return function(e){e({type:"SET_NEW_CITY_PENDING"}),x(t).then((function(t){e({type:"SET_NEW_CITY_DONE",city:t}),e({type:"UPD_ONE_CITY_DONE_WITH_DATA_DONE",city:t})})).catch((function(t){e({type:"SET_NEW_CITY_ERROR",error:t})}))}}(t))},f=function(t){d(function(t){return function(e){e({type:"SET_NEW_CITY_PENDING"}),N(t).then((function(t){var c=t.hourly;e({type:"GET_ONE_CALL_CITY",hourly:c})})).catch((function(t){e({type:"SET_NEW_CITY_ERROR",error:t})}))}}(j)),d(function(t){return function(e){e({type:"GET_ONE_CITY",id:t})}}(t)),O.push("/city/".concat(t))},m=function(){return Object(n.jsxs)("div",{className:"btn-group",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:function(){return f(r)},children:Object(n.jsx)("i",{className:"fa fa-info","aria-hidden":"true"})}),Object(n.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-success",onClick:function(){return h(r)},children:Object(n.jsx)("i",{className:"fa fa-refresh","aria-hidden":"true"})}),Object(n.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-danger ",onClick:function(){return function(t){d(function(t){return function(e){e({type:"DELETE_ONE_CITY",id:t})}}(t))}(r)},children:Object(n.jsx)("i",{className:"fa fa-trash-o","aria-hidden":"true"})})]})},p=function(){return Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("p",{className:"card-text fl",children:"Feels like: ".concat(parseInt(b.feels_like),"\xb0C")}),Object(n.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(n.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)("i",{className:"fa fa-dot-circle-o","aria-hidden":"true",children:" ".concat(parseInt(b.pressure),"hPa")})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)("i",{className:"fa fa-tint","aria-hidden":"true",children:" ".concat(parseInt(b.humidity),"%")})})]}),Object(n.jsx)(m,{})]})]})};return Object(n.jsx)("div",{className:"col-md-3",children:Object(n.jsxs)("div",{className:"card mb-3 shadow-sm",children:[Object(n.jsx)("p",{className:"cityName",children:c}),Object(n.jsxs)("div",{className:"navbar",children:[Object(n.jsx)(y,{state:a}),Object(n.jsx)("p",{className:"navbar-text",children:"".concat(parseInt(b.temp),"\xb0C")})]}),Object(n.jsx)(p,{})]})})},E=function(){var t=Object(u.c)((function(t){return t.cities})).map((function(t){return Object(n.jsx)(_,{data:t.main,mainInfo:t},t.id)}));return Object(n.jsx)("div",{className:"album py-5 bg-light",children:Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"row",children:t})})})},T=(c(78),c(79),c(24)),I=function(){for(var t=Object(u.c)((function(t){return t.city})),e=Object(u.c)((function(t){return t.hourly})),c=t.name,a=t.main,r=t.weather,i=[],s=1;s<=12;s++)i.push({x:s+1,y:e[s].temp});return Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"col-md-8 fullInfo",children:Object(n.jsxs)("div",{className:"card shadow-sm",children:[Object(n.jsx)("p",{className:"cityName",children:c}),Object(n.jsxs)("div",{className:"navbar",children:[Object(n.jsx)(y,{state:r}),Object(n.jsx)("p",{className:"navbar-text temperature",children:"".concat(parseInt(a.temp),"\xb0C")})]}),Object(n.jsx)("div",{className:"navbar",children:Object(n.jsx)("p",{className:"navbar-text",children:"...additional content..."})}),Object(n.jsx)("div",{className:"navbar",children:Object(n.jsxs)(T.a,{width:600,height:300,children:[Object(n.jsx)(T.c,{}),Object(n.jsx)(T.b,{className:"heatmap-series",opacity:"0.6",color:"red",data:i}),Object(n.jsx)(T.d,{title:"hrs"})]})})]})})})},g=function(){return Object(n.jsx)(j.a,{children:Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(v,{}),Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{path:"/",component:E,exact:!0}),Object(n.jsx)(l.a,{path:"/city/:id",component:I,exact:!0}),Object(n.jsx)(l.a,{render:function(){return Object(n.jsx)("h2",{children:"Page not found"})}})]})]})})},C=c(13),w=c(45),Y=c(60),D=c.n(Y),k=c(25),S=c(32),W=c(5),R=c(103),L={isLoading:!1,error:!1,cities:[],city:{},data:{},hourly:[]},G=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_NEW_CITY_PENDING":return Object(W.a)(Object(W.a)({},t),{},{isLoading:!0});case"SET_NEW_CITY_ERROR":return Object(W.a)(Object(W.a)({},t),{},{isLoading:!1,error:e.error});case"SET_NEW_CITY_DONE":return Object(W.a)(Object(W.a)({},t),{},{isLoading:!1,data:Object(W.a)(Object(W.a)({},t.data),{},Object(S.a)({},e.city.main.id,e.city.main)),error:"",cities:[].concat(Object(k.a)(t.cities.filter((function(t){return t.id!==e.city.city.id}))),[e.city.city])});case"UPD_ONE_CITY_DONE_WITH_DATA_DONE":var c=e.city.main.id,n=e.city,a=Object.entries(t.data);return a.map((function(t){return parseInt(t[0])===c&&(t[1]=n.main),t})),a=Object.fromEntries(a),Object(W.a)(Object(W.a)({},t),{},{data:a,error:"",cities:[].concat(Object(k.a)(t.cities.filter((function(t){return t.id!==e.city.city.id}))),[e.city.city])});case"DELETE_ONE_CITY":return Object(W.a)(Object(W.a)({},t),{},{data:R.omit(t.data,e.id),cities:Object(k.a)(t.cities.filter((function(t){return t.id!==e.id})))});case"GET_ONE_CITY":var r=Object(k.a)(t.cities.filter((function(t){return t.id===e.id})));return r=r[0],Object(W.a)(Object(W.a)({},t),{},{city:r});case"GET_ONE_CALL_CITY":return Object(W.a)(Object(W.a)({},t),{},{hourly:e.hourly});default:return Object(W.a)({},t)}},P=c(61),A={key:"root",storage:D.a,blacklist:["data"]},H=Object(w.a)(A,G),J=Object(C.d)(H,Object(C.a)(P.a)),U=Object(w.b)(J);o.a.render(Object(n.jsxs)(r.a.StrictMode,{children:[Object(n.jsx)(u.a,{store:J,children:Object(n.jsx)(i.a,{loading:null,persistor:U,children:Object(n.jsx)(g,{})})}),","]}),document.getElementById("root"))},75:function(t,e,c){},77:function(t,e,c){},78:function(t,e,c){}},[[105,1,2]]]);
//# sourceMappingURL=main.1f17ae11.chunk.js.map